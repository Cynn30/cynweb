<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cyn's ç•™è¨€é¡µ - åŠ¨æ€</title>
<style>
  /* Reset & base */
  body {
    margin: 0; padding: 0; background: #fff6f3;
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    color: #333;
    line-height: 1.5;
    min-height: 100vh;
    display: flex; flex-direction: column;
  }

  .navbar {
    display: flex; justify-content: space-between; align-items: center;
    background: #ff6f61;
    padding: 12px 24px;
    color: white;
    font-weight: 600;
    font-size: 1.4rem;
    box-shadow: 0 4px 10px rgb(255 111 97 / 0.4);
  }

  #avatarStyleSelect {
    padding: 6px 12px;
    font-size: 1rem;
    border-radius: 12px;
    border: none;
    outline: none;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  #avatarStyleSelect:hover {
    background: rgba(255,255,255,0.3);
  }

  main {
    flex-grow: 1;
    max-width: 900px;
    margin: 20px auto;
    background: white;
    border-radius: 20px;
    padding: 20px 30px 40px;
    box-shadow: 0 0 20px #ffc6b9aa;
  }

  /* ä»‹ç»æ–‡æœ¬ */
  #introText {
    font-size: 1.05rem;
    margin-bottom: 16px;
    color: #555;
    line-height: 1.6;
  }

  /* å›¾ç‰‡ */
  .welcome-image {
    display: block;
    max-width: 100%;
    max-height: 320px;
    margin: 0 auto 32px;
    border-radius: 16px;
    box-shadow: 0 8px 20px rgb(255 111 97 / 0.35);
    object-fit: contain;
  }

  /* ç‰ˆå—æ ‡é¢˜ */
  h2.section-title {
    border-bottom: 3px solid #ff6f61;
    padding-bottom: 6px;
    margin-top: 40px;
    margin-bottom: 16px;
    font-weight: 700;
    color: #ff6f61;
  }

  /* å‘è¡¨åŠ¨æ€å’Œç•™è¨€åŒº */
  .input-row {
    margin-bottom: 12px;
  }
  input[type=text], textarea {
    width: 100%;
    border: 2px solid #ffd6d1;
    border-radius: 12px;
    padding: 12px 16px;
    font-size: 1rem;
    resize: vertical;
    transition: border-color 0.3s ease;
  }
  input[type=text]:focus, textarea:focus {
    outline: none;
    border-color: #ff6f61;
    box-shadow: 0 0 6px #ff6f61aa;
  }

  textarea {
    min-height: 80px;
  }

  button {
    background-color: #ff6f61;
    color: white;
    font-weight: 600;
    font-size: 1.1rem;
    border: none;
    border-radius: 16px;
    padding: 10px 28px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-top: 6px;
  }
  button:hover {
    background-color: #e65b4e;
  }

  /* åŠ¨æ€åˆ—è¡¨ */
  .post-list {
    margin-top: 20px;
  }

  .post-item, .comment-item {
    background: #fff0ed;
    border-radius: 16px;
    padding: 14px 18px;
    margin-bottom: 20px;
    box-shadow: 0 2px 10px rgb(255 111 97 / 0.15);
  }

  /* å¤´åƒ */
  .comment-avatar {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    margin-right: 14px;
    object-fit: cover;
    border: 2px solid #ff6f61;
    transition: transform 0.2s ease;
  }

  /* å¤´éƒ¨å¸ƒå±€ */
  .comment-header, .post-header {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
  }

  .comment-username, .post-username {
    font-weight: 700;
    font-size: 1.1rem;
    margin-right: 12px;
    color: #ff4c3b;
  }

  .comment-time, .post-time {
    font-size: 0.85rem;
    color: #aa7468;
  }

  /* è¯„è®ºå†…å®¹ */
  .comment-text, .post-text {
    font-size: 1rem;
    white-space: pre-wrap;
  }

  /* è¯„è®ºæ“ä½œ */
  .comment-actions {
    margin-top: 10px;
  }
  .comment-actions button {
    background: none;
    border: none;
    color: #ff6f61;
    font-weight: 600;
    margin-right: 18px;
    cursor: pointer;
    padding: 6px 0;
  }
  .comment-actions button:hover {
    text-decoration: underline;
  }

  /* å¤šçº§å›å¤ç¼©è¿› */
  .comment-replies {
    margin-top: 16px;
    border-left: 4px solid #ffd6d1;
    padding-left: 18px;
  }
  .comment-replies .comment-replies {
    margin-left: 20px;
  }

  /* å›å¤è¾“å…¥åŒº */
  .reply-username-input, .reply-input, .reply-submit-btn {
    width: 100%;
    margin-top: 6px;
    border-radius: 12px;
  }
  .reply-username-input {
    padding: 8px 14px;
    font-size: 0.95rem;
    border: 2px solid #ffd6d1;
    resize: none;
  }
  .reply-input {
    padding: 10px 14px;
    min-height: 60px;
    resize: vertical;
    border: 2px solid #ffd6d1;
  }
  .reply-submit-btn {
    background-color: #ff6f61;
    color: white;
    font-weight: 600;
    font-size: 1rem;
    border: none;
    cursor: pointer;
    margin-top: 6px;
    padding: 8px 16px;
  }
  .reply-submit-btn:hover {
    background-color: #e65b4e;
  }

  /* é¡µé¢åº•éƒ¨ */
  .footer {
    text-align: center;
    padding: 18px 12px;
    font-size: 0.9rem;
    color: #999;
    margin-top: 40px;
  }

  /* åŠ¨æ€åŒºå’Œç•™è¨€åŒºè¾“å…¥åŒº */
  .section-input-group {
    margin-bottom: 16px;
  }
</style>
</head>
<body>
  <header class="navbar">
    <div>Cyn's å¾®åšé¡µ</div>
    <select id="avatarStyleSelect" title="é€‰æ‹©å¤´åƒé£æ ¼">
      <option value="identicon">Identicon</option>
      <option value="avataaars">Avataaars</option>
      <option value="bottts">Bottts</option>
      <option value="gridy">Gridy</option>
      <option value="jdenticon">Jdenticon</option>
      <option value="micah">Micah</option>
    </select>
  </header>

  <main>
    <section id="introSection">
      <p id="introText">æœ¬ç½‘ç«™ç”± <strong>cynn30</strong> ä½¿ç”¨ GitHub Pages è‡ªä¸»æ­å»ºã€‚<br>
      ç½‘ç«™å†…å®¹å‡ä¸ºåŸåˆ›æˆ–å·²æ³¨æ˜æ¥æºï¼Œæ¬¢è¿è®¿é—®ã€äº¤æµä¸æ¬£èµï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br>
      é¡µé¢è®¾è®¡çº¯å±å…´è¶£ç»ƒä¹ ï¼Œè‹¥æœ‰æ˜¾ç¤ºé—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿è”ç³»ç«™ä¸»å®Œå–„æ”¹è¿›ï¼</p>
      <img class="welcome-image" src="https://static.vecteezy.com/system/resources/previews/011/976/274/non_2x/stick-figures-welcome-free-vector.jpg" alt="welcome!" />
    </section>

    <!-- å‘å¸ƒåŠ¨æ€ -->
    <section id="postSection">
      <h2 class="section-title">å‘å¸ƒåŠ¨æ€</h2>
      <div class="section-input-group">
        <input type="text" id="postUsername" placeholder="è¯·è¾“å…¥ç”¨æˆ·åï¼ˆå¿…å¡«ï¼‰" maxlength="15" />
      </div>
      <div class="section-input-group">
        <textarea id="postContent" placeholder="åˆ†äº«ç‚¹æ–°é²œäº‹..."></textarea>
      </div>
      <button id="postSubmitBtn">å‘å¸ƒåŠ¨æ€</button>
      <div id="postList" class="post-list"></div>
    </section>

    <!-- ç•™è¨€åŒº -->
    <section id="commentSection">
      <h2 class="section-title">ç•™è¨€åŒº</h2>
      <div class="input-row">
        <input type="text" id="commentUsername" placeholder="è¯·è¾“å…¥ç”¨æˆ·åï¼ˆå¿…å¡«ï¼‰" maxlength="15" />
      </div>
      <textarea id="commentInput" placeholder="å†™ç‚¹ä»€ä¹ˆå§..."></textarea>
      <button id="commentSubmitBtn">æäº¤ç•™è¨€</button>

      <div id="commentsList" class="comments-list"></div>
    </section>
  </main>

  <footer class="footer" id="footerText">
    ç‰ˆæƒ Â© cynn30.github.io ï½œä¸ªäººç½‘ç«™ ï½œ GitHub Pages æ”¯æŒ<br>
    2025 Â· Cynâ€™s Web
  </footer>

<script>
  // å›½é™…åŒ–æ–‡æ¡ˆï¼Œé»˜è®¤ä¸­æ–‡
  const i18n = {
    zh: {
      usernamePlaceholder: 'è¯·è¾“å…¥ç”¨æˆ·åï¼ˆå¿…å¡«ï¼‰',
      commentPlaceholder: 'å†™ç‚¹ä»€ä¹ˆå§...',
      submitBtn: 'æäº¤ç•™è¨€',
      commentTitle: 'ç•™è¨€åŒº',
      introText: 'æœ¬ç½‘ç«™ç”± <strong>cynn30</strong> ä½¿ç”¨ GitHub Pages è‡ªä¸»æ­å»ºã€‚<br>ç½‘ç«™å†…å®¹å‡ä¸ºåŸåˆ›æˆ–å·²æ³¨æ˜æ¥æºï¼Œæ¬¢è¿è®¿é—®ã€äº¤æµä¸æ¬£èµï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br>é¡µé¢è®¾è®¡çº¯å±å…´è¶£ç»ƒä¹ ï¼Œè‹¥æœ‰æ˜¾ç¤ºé—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿è”ç³»ç«™ä¸»å®Œå–„æ”¹è¿›ï¼',
      footerText: 'ç‰ˆæƒ Â© cynn30.github.io ï½œä¸ªäººç½‘ç«™ ï½œ GitHub Pages æ”¯æŒ<br>2025 Â· Cynâ€™s Web',
      alerts: {
        usernameEmpty: 'è¯·è¾“å…¥ç”¨æˆ·å',
        commentEmpty: 'è¯·è¾“å…¥ç•™è¨€å†…å®¹',
        postEmpty: 'è¯·è¾“å…¥åŠ¨æ€å†…å®¹',
        replyEmpty: 'å›å¤ä¸èƒ½ä¸ºç©ºï¼',
        confirmDelComment: 'ç¡®è®¤åˆ é™¤è¿™æ¡ç•™è¨€å—ï¼Ÿ',
        confirmDelReply: 'ç¡®è®¤åˆ é™¤è¿™æ¡å›å¤å—ï¼Ÿ',
        replyUsernameEmpty: 'è¯·è¾“å…¥å›å¤ç”¨æˆ·å'
      },
      replyUsernamePlaceholder: 'å›å¤ç”¨æˆ·åï¼ˆå¿…å¡«ï¼‰',
      replyPlaceholder: 'å›å¤å†…å®¹...',
      postUsernamePlaceholder: 'è¯·è¾“å…¥ç”¨æˆ·åï¼ˆå¿…å¡«ï¼‰',
      postContentPlaceholder: 'åˆ†äº«ç‚¹æ–°é²œäº‹...'
    },
    en: {
      usernamePlaceholder: 'Please enter username (required)',
      commentPlaceholder: 'Write something...',
      submitBtn: 'Submit Comment',
      commentTitle: 'Comments',
      introText: 'This website is built by <strong>cynn30</strong> using GitHub Pages.<br>All content is original or cited. Welcome to visit, communicate, and appreciate. Please indicate the source when reposting.<br>Page design is purely for fun practice, contact the owner for any display issues or suggestions!',
      footerText: 'Copyright Â© cynn30.github.io | Personal Website | GitHub Pages Support<br>2025 Â· Cynâ€™s Web',
      alerts: {
        usernameEmpty: 'Please enter username',
        commentEmpty: 'Please enter comment content',
        postEmpty: 'Please enter post content',
        replyEmpty: 'Reply cannot be empty!',
        confirmDelComment: 'Confirm to delete this comment?',
        confirmDelReply: 'Confirm to delete this reply?',
        replyUsernameEmpty: 'Please enter reply username'
      },
      replyUsernamePlaceholder: 'Reply username (required)',
      replyPlaceholder: 'Reply content...',
      postUsernamePlaceholder: 'Please enter username (required)',
      postContentPlaceholder: 'Share something new...'
    }
  };

  // æ ¹æ®æµè§ˆå™¨è¯­è¨€è®¾ç½®å½“å‰è¯­è¨€ï¼ˆé»˜è®¤ä¸­æ–‡ï¼‰
  let lang = navigator.language.startsWith('en') ? 'en' : 'zh';

  function setTexts() {
    // å‘å¸ƒåŠ¨æ€åŒº
    document.getElementById('postUsername').placeholder = i18n[lang].postUsernamePlaceholder;
    document.getElementById('postContent').placeholder = i18n[lang].postContentPlaceholder;

    // ç•™è¨€åŒº
    document.getElementById('commentUsername').placeholder = i18n[lang].usernamePlaceholder;
    document.getElementById('commentInput').placeholder = i18n[lang].commentPlaceholder;
    document.getElementById('commentSubmitBtn').textContent = i18n[lang].submitBtn;

    // ä»‹ç»å’Œfooter
    document.getElementById('introText').innerHTML = i18n[lang].introText;
    document.getElementById('footerText').innerHTML = i18n[lang].footerText;
  }
  setTexts();

  // DOMå…ƒç´ å¼•ç”¨
  const avatarStyleSelect = document.getElementById('avatarStyleSelect');
  const postUsername = document.getElementById('postUsername');
  const postContent = document.getElementById('postContent');
  const postSubmitBtn = document.getElementById('postSubmitBtn');
  const postList = document.getElementById('postList');

  const commentUsername = document.getElementById('commentUsername');
  const commentInput = document.getElementById('commentInput');
  const commentSubmitBtn = document.getElementById('commentSubmitBtn');
  const commentsList = document.getElementById('commentsList');

  // å­˜å‚¨åŠ¨æ€å’Œç•™è¨€æ•°æ®
  let posts = JSON.parse(localStorage.getItem('posts') || '[]');
  let comments = JSON.parse(localStorage.getItem('comments') || '[]');

  // å½“å‰å¤´åƒé£æ ¼
  let avatarStyle = avatarStyleSelect.value;
  avatarStyleSelect.addEventListener('change', () => {
    avatarStyle = avatarStyleSelect.value;
    renderPosts();
    renderComments();
  });

  // æ—¶é—´æ ¼å¼åŒ–
  function formatTimestamp(time) {
    const now = Date.now();
    const diff = now - time;
    if (diff < 60000) return lang === 'zh' ? 'åˆšåˆš' : 'Just now';
    if (diff < 3600000) return Math.floor(diff / 60000) + (lang === 'zh' ? 'åˆ†é’Ÿå‰' : ' minutes ago');
    if (diff < 86400000) return Math.floor(diff / 3600000) + (lang === 'zh' ? 'å°æ—¶å‰' : ' hours ago');
    const date = new Date(time);
    return date.toLocaleString(lang);
  }

  // æ¸²æŸ“åŠ¨æ€åˆ—è¡¨
  function renderPosts() {
    postList.innerHTML = '';
    if(posts.length === 0) {
      postList.innerHTML = `<p style="color:#999; text-align:center;">${lang === 'zh' ? 'æš‚æ— åŠ¨æ€ï¼Œå¿«æ¥å‘å¸ƒç¬¬ä¸€æ¡å§ï¼' : 'No posts yet. Be the first to share!'}</p>`;
      return;
    }
    posts.forEach(post => {
      const div = document.createElement('div');
      div.className = 'post-item';

      const header = document.createElement('div');
      header.className = 'post-header';

      const avatar = document.createElement('img');
      avatar.className = 'comment-avatar';
      avatar.src = `https://api.dicebear.com/6.x/${avatarStyle}/svg?seed=${encodeURIComponent(post.username)}`;
      avatar.alt = 'å¤´åƒ';

      const usernameSpan = document.createElement('span');
      usernameSpan.className = 'post-username';
      usernameSpan.textContent = post.username;

      const timeSpan = document.createElement('span');
      timeSpan.className = 'post-time';
      timeSpan.textContent = formatTimestamp(post.timestamp);

      header.appendChild(avatar);
      header.appendChild(usernameSpan);
      header.appendChild(timeSpan);

      const contentDiv = document.createElement('div');
      contentDiv.className = 'post-text';
      contentDiv.textContent = post.text;

      div.appendChild(header);
      div.appendChild(contentDiv);
      postList.appendChild(div);
    });
  }

  // å¤šçº§å›å¤æ¸²æŸ“ - å¤ç”¨ä¸Šä¸€ç‰ˆæœ¬
  function renderComments() {
    commentsList.innerHTML = '';
    if(comments.length === 0) {
      commentsList.innerHTML = `<p style="color:#999; text-align:center;">${lang === 'zh' ? 'æš‚æ— ç•™è¨€ï¼Œå¿«æ¥å‘è¡¨ä½ çš„æƒ³æ³•ï¼' : 'No comments yet. Share your thoughts!'}</p>`;
      return;
    }
    comments.forEach((comment, index) => {
      const commentDiv = createCommentElement(comment, [index]);
      commentsList.appendChild(commentDiv);
    });
  }

  function createCommentElement(comment, path) {
    const div = document.createElement('div');
    div.className = 'comment-item';

    // å¤´éƒ¨ï¼šå¤´åƒ + ç”¨æˆ·å + æ—¶é—´
    const headerDiv = document.createElement('div');
    headerDiv.className = 'comment-header';

    const avatar = document.createElement('img');
    avatar.className = 'comment-avatar';
    avatar.src = `https://api.dicebear.com/6.x/${avatarStyle}/svg?seed=${encodeURIComponent(comment.username)}`;
    avatar.alt = 'å¤´åƒ';
    headerDiv.appendChild(avatar);

    const usernameSpan = document.createElement('span');
    usernameSpan.className = 'comment-username';
    usernameSpan.textContent = comment.username;
    headerDiv.appendChild(usernameSpan);

    const timeSpan = document.createElement('span');
    timeSpan.className = 'comment-time';
    timeSpan.textContent = formatTimestamp(comment.timestamp);
    headerDiv.appendChild(timeSpan);

    div.appendChild(headerDiv);

    // å†…å®¹
    const textDiv = document.createElement('div');
    textDiv.className = 'comment-text';
    textDiv.textContent = comment.text;
    div.appendChild(textDiv);

    // æ“ä½œæŒ‰é’®
    const actionsDiv = document.createElement('div');
    actionsDiv.className = 'comment-actions';

    // ç‚¹èµæŒ‰é’®
    const likeBtn = document.createElement('button');
    likeBtn.textContent = `ğŸ‘ ${comment.likes || 0}`;
    likeBtn.title = lang === 'zh' ? 'ç‚¹èµ' : 'Like';
    likeBtn.onclick = () => {
      comment.likes = (comment.likes || 0) + 1;
      saveComments();
      renderComments();
    };
    actionsDiv.appendChild(likeBtn);

    // å›å¤æŒ‰é’®
    const replyBtn = document.createElement('button');
    replyBtn.textContent = lang === 'zh' ? 'å›å¤' : 'Reply';
    replyBtn.title = lang === 'zh' ? 'å›å¤è¿™æ¡ç•™è¨€' : 'Reply to this comment';
    actionsDiv.appendChild(replyBtn);

    // åˆ é™¤æŒ‰é’®
    const delBtn = document.createElement('button');
    delBtn.textContent = lang === 'zh' ? 'åˆ é™¤' : 'Delete';
    delBtn.title = lang === 'zh' ? 'åˆ é™¤è¿™æ¡ç•™è¨€' : 'Delete this comment';
    delBtn.onclick = () => {
      if(confirm(i18n[lang].alerts.confirmDelComment)) {
        deleteCommentByPath(path);
        saveComments();
        renderComments();
      }
    };
    actionsDiv.appendChild(delBtn);

    div.appendChild(actionsDiv);

    // å›å¤åŒºåŸŸ
    const repliesDiv = document.createElement('div');
    repliesDiv.className = 'comment-replies';
    div.appendChild(repliesDiv);

    // å¤šçº§å›å¤é€’å½’æ¸²æŸ“
    if(comment.replies && comment.replies.length) {
      comment.replies.forEach((rep, i) => {
        const repDiv = createCommentElement(rep, path.concat(i));
        repliesDiv.appendChild(repDiv);
      });
    }

    // å›å¤è¾“å…¥æ¡†å’Œç”¨æˆ·åè¾“å…¥æ¡†ï¼Œé»˜è®¤éšè—
    const replyUsernameInput = document.createElement('input');
    replyUsernameInput.type = 'text';
    replyUsernameInput.className = 'reply-username-input';
    replyUsernameInput.placeholder = i18n[lang].replyUsernamePlaceholder;
    replyUsernameInput.maxLength = 15;
    replyUsernameInput.style.display = 'none';

    const replyInput = document.createElement('textarea');
    replyInput.className = 'reply-input';
    replyInput.placeholder = i18n[lang].replyPlaceholder;
    replyInput.style.display = 'none';

    const replySubmit = document.createElement('button');
    replySubmit.className = 'reply-submit-btn';
    replySubmit.textContent = lang === 'zh' ? 'æäº¤å›å¤' : 'Submit Reply';
    replySubmit.style.display = 'none';

    div.appendChild(replyUsernameInput);
    div.appendChild(replyInput);
    div.appendChild(replySubmit);

    replyBtn.onclick = () => {
      if(replyInput.style.display === 'block') {
        replyInput.style.display = 'none';
        replyUsernameInput.style.display = 'none';
        replySubmit.style.display = 'none';
        replyInput.value = '';
        replyUsernameInput.value = '';
      } else {
        replyInput.style.display = 'block';
        replyUsernameInput.style.display = 'block';
        replySubmit.style.display = 'inline-block';
        replyInput.focus();
      }
    };

    replySubmit.onclick = () => {
      const replyText = replyInput.value.trim();
      const replyUser = replyUsernameInput.value.trim() || 'åŒ¿å';

      if(!replyUser) {
        alert(i18n[lang].alerts.replyUsernameEmpty);
        replyUsernameInput.focus();
        return;
      }
      if(!replyText) {
        alert(i18n[lang].alerts.replyEmpty);
        replyInput.focus();
        return;
      }

      const targetComment = getCommentByPath(path);
      if(!targetComment.replies) targetComment.replies = [];
      targetComment.replies.push({
        username: replyUser,
        text: replyText,
        timestamp: Date.now(),
        likes: 0,
        replies: []
      });

      saveComments();
      renderComments();
    };

    return div;
  }

  // åˆ é™¤è¯„è®º/å›å¤
  function deleteCommentByPath(path) {
    if(path.length === 1) {
      comments.splice(path[0], 1);
    } else {
      const lastIndex = path[path.length - 1];
      const parent = getCommentByPath(path.slice(0, -1));
      if(parent && parent.replies) {
        parent.replies.splice(lastIndex, 1);
      }
    }
  }

  // è·å–è¯„è®ºå¯¹è±¡
  function getCommentByPath(path) {
    let current = comments;
    for(let i = 0; i < path.length; i++) {
      if(i === 0) {
        current = current[path[i]];
      } else {
        current = current.replies[path[i]];
      }
      if(!current) break;
    }
    return current;
  }

  // å­˜å‚¨ç•™è¨€
  function saveComments() {
    localStorage.setItem('comments', JSON.stringify(comments));
  }
  // å­˜å‚¨åŠ¨æ€
  function savePosts() {
    localStorage.setItem('posts', JSON.stringify(posts));
  }

  // å‘å¸ƒç•™è¨€
  commentSubmitBtn.addEventListener('click', () => {
    const username = commentUsername.value.trim();
    const text = commentInput.value.trim();

    if(!username) {
      alert(i18n[lang].alerts.usernameEmpty);
      commentUsername.focus();
      return;
    }
    if(!text) {
      alert(i18n[lang].alerts.commentEmpty);
      commentInput.focus();
      return;
    }

    comments.unshift({
      username,
      text,
      timestamp: Date.now(),
      likes: 0,
      replies: []
    });

    saveComments();
    renderComments();

    commentUsername.value = '';
    commentInput.value = '';
  });

  // å‘å¸ƒåŠ¨æ€
  postSubmitBtn.addEventListener('click', () => {
    const username = postUsername.value.trim();
    const text = postContent.value.trim();

    if(!username) {
      alert(i18n[lang].alerts.usernameEmpty);
      postUsername.focus();
      return;
    }
    if(!text) {
      alert(i18n[lang].alerts.postEmpty);
      postContent.focus();
      return;
    }

    posts.unshift({
      username,
      text,
      timestamp: Date.now()
    });

    savePosts();
    renderPosts();

    postUsername.value = '';
    postContent.value = '';
  });

  // åˆå§‹æ¸²æŸ“
  renderPosts();
  renderComments();
</script>
</body>
</html>
